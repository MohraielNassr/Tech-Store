<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Cart - Tech Store</title>
    <link rel="stylesheet" href="./cart.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- NAVBAR -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="logo">
          <i class="fas fa-laptop"></i>
          <span>Tech Store</span>
        </div>
        <ul class="nav-menu">
          <li><a href="index.html">Home</a></li>
          <li><a href="brands.html">Products</a></li>
          <li>
            <a href="cart.html" class="active"
              >Cart<span id="cart-badge" class="badge">0</span></a
            >
          </li>
          <li><a href="logIn.html" class="btn-login">Login</a></li>
        </ul>
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </nav>

    <div class="cart-wrapper">
      <div class="container">
        <h1>Shopping Cart</h1>
        <div id="cartContainer"></div>
        <div class="cart-summary">
          <h3 id="totalPrice"></h3>
          <button onclick="checkout()" class="btn-checkout">Checkout</button>
          <a href="brands.html" class="btn-continue">Continue Shopping</a>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>&copy; 2024 Tech Store. All rights reserved.</p>
    </footer>

    <script src="./chatbot.js"></script>
    <script src="./cart.js"></script>
    <script>
      // Update cart badge
      document.addEventListener("DOMContentLoaded", function () {
        function updateCartBadge() {
          const cart = JSON.parse(localStorage.getItem("cart")) || [];
          const totalItems = cart.reduce(
            (sum, item) => sum + (item.quantity || 1),
            0,
          );
          document.getElementById("cart-badge").textContent = totalItems;
        }
        updateCartBadge();
        window.addEventListener("storage", updateCartBadge);
      });

      // Hamburger menu
      const hamburger = document.querySelector(".hamburger");
      const navMenu = document.querySelector(".nav-menu");
      hamburger &&
        hamburger.addEventListener("click", () => {
          navMenu.classList.toggle("active");
        });
    </script>
  </body>
</html>
